## 1.1 什么是因特网
### 1.1.1 具体构成服务

互联网的设备可以称为主机（host）或端系统（end system）。

端系统通过通信链路和分组交换机连接，链路有一定的的传输速率，数据在传输时将数据切段，加上首部字节，这一步叫做分组。

分组交换机（packets）最著名的类型是路由器（router）和链路层交换机（link-layer switch），前者经常用于网络核心，即工作在网络层，后者用于接入网中工作在链路层。而分组经过的一系列通信链路和分组交换机称为路径，这一路径不可预测。

TCP/IP用于控制上述系统的运行，其中IP定义了在路由器和端系统间的发送和接收的分组格式。
传统网络以路由协议和IP协议进行，而现代网络中的SDN（软件定义网络）包含数据平面交换机和网络操作系统。
网络中有节点、边和协议的概念。节点包括主机节点，数据交换节点。两者区别在于，主机节点既是源也是目标，而交换节点都不是负责转发数据。连接节点的链路叫做边。由主机连接到交换机的链路是接入链路（access），而交换机与交换机，路由器与路由器的连接称为骨干链路（backbone）。这样由点和边构成的网络是互联网。

#### 网络边缘与网络核心



![[202508217113515.webp]]

![[202508217113548.webp]]

![[202508217113832.webp]]



### 1.1.2 服务描述

涉及到多个相互交换数据的端系统称为分布式应用程序。互联网就是这些分布式应用以及为这些应用提供数据服务的基础设施。其中有面向传输的服务（TCP/IP）和无连接的服务（UDP）。

套接字接口规定了运行在一个端系统上的程序请求互联网基础设施向运行在另一个端系统上的程序传输数据的方式。

### 1.1.3 什么是协议

人类活动类比
![[Pasted image 20250801222410.webp]]
是对等层的实体应当遵守的规则的集合，包括语法、语义和时许。
网络协议是以TCP\IP协议为主的小簇协议。不同协议间的通讯以协议数据单元（PDU，Protocol Data Unit）进行，不同层的协议的PDU性质不同。

#### 1.2 网络边缘

### 1.2.1 接入网

按照互联网结构来说，将互联网分为网络边缘（由端系统组成，edge）和网络核心（由连接着的路由器、分组交换机构成，core）。而接入网便是端系统链路接入到边缘路由器的网络，边缘路由器是端系统接入网络核心的第一台路由器。

	当今宽带入户两种方法：数字用户线（DSL，Digtal Subscriber Line）和电缆。DSL的接入方式如下
	
![[202508218101154.webp]]
其中DSLAM是DSL接入复用器。DSL一般采用多种编码方式，不同的编码方式对应不同的频率和传输速率，也便是不同的带宽。

而电缆接入（Cable Internel Access）因为经常同时使用光纤和同轴电缆，经常被称为混合光纤轴HFC，Hybrid Fiber Coax。接入示意如下：
![[202508218101609.webp]]
 在电缆头端 ， 电缆调制解调器端接系（ Cable Modem Termination System , CMTS ）与 DSL 网络的 DSLAM 具有类似的功能。
 
	C/S模式为什么在负荷到一定程度时会有断崖式的下降？

针对cs模式的问题，由P2P模式（Peer to Peer），在此模式中，主机与服务器共同构成分布式的文件分发系统，主机自身也能起到向其他主机分发自身的一部分文件。   
![[202508216093714.webp]]
面向连接的方式是端系统使用网络设施提供的服务的同时，端系统自身也进行相应资源与服务的措施，典型的就是TCP/IP。

![[202508216095345.webp]]
无连接的服务不是字面意义上没有相互连接的东西的，而是没有建立稳定的连接就像两个人没有交流而是自说自话，说完啥算是，不管对面说什么。
 
 ### 1.2.2 物理媒体

物理媒体有引导型媒体和非引导型媒体，前者的典型代表是各种同轴电缆，光纤等。后者的典型代表是信号沿着空气或外层空间传播。

## 1.3 网络核心

### 1.3.1 分组交换

 为了从源端系统向目的端系统发送一个报文 ， 源将长报文划分为较小的数据块 ， 称之为分组（ packet ）。在源和目的地之间 ， 每个分组都通过通信链路和分组交换机 （ packet switch ）传送 。 （ 交换机主要有两类 ： 路由器 （router） 和链路层交换机 （ link-layer  switch ）。
 
![[202508216100240.webp]]
网络核心的交换方式有两种，电路交换和分组交换，前者常见于电话通讯，后者常见于网络通讯。

![[202508217103727.webp]]

 存储转发传输是指在交换机能够开始向输岀链路传输该分组的第一个比特之前 ， 必须接收到整个分组 。
 
 分组交换采用存储-转发的原理一个Rbps的链路，一个Lbits的分组的存储转发延时为L/R s
在这个传输过程中，路由接收数据的时间和发出的时间是基本相等的，不存在独立时间。但是数据从0时发送到完整接收，再发送的时间为2L/R s，这是传输总时延。

![[202508218102808.webp]]

除此外对于每条相连的链路，该分组交换机具有一个**输出缓存** （ output buffer , 也称为**输出队列** （ output queue ） ）。出现因为路由转发存在排队，即前面的没转出去的情况下的延时叫做排队延时。如果缓存已满，则将后面到达的分组丢弃，出现**分组丢失（丢包）** （packet loss）。


![[202508217112927.webp]]

### 1.3.2 电路交换

![[202508216100448.webp]]      

![[202508217082120.webp]]

在进行交换前，电路连接的方式会现请求建立线路建立。建立这种连接式会将线路分成若干pieces，采用频分（fdm），时分（tdm），波分（wdm）。 
   ![[202508217082938.webp]]
假设两节点间的贷款为1.536Mbps，分为24个时隙（Slot），每个用户可获得1.536/24 Mbps = 64 Kpbs，假设连接建立0.5s，文件640kbits，那么将文件发送完成要10.5s，而接收方还有考虑电磁波在介质中传输的实际。
 ![[202508217103145.webp]]